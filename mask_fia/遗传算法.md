### 一、差分进化(DE)

重写三个函数:predict_fn；region_fn；callback。

#### 1. predict_fn

` 给定参数mask,返回FIA方法在各个黑盒模型上的得分`

#### 2.region_fn

`产生后代的方法`

* **预处理：**$0\rightarrow \mu P$: 先判断共性是否足够大:**若足够大进行杂交**,否则**共性小的个体保持不变** 
  $$
  n_i=sum(m_i),\\
  n_j=sum(m_j), \\
  i<j\in (0,\mu P)\\
  n_{ij}=sum(m_i \and m_j)\\
  if (n_{ij}>\alpha (\frac{n_i+n_j}{2})): 共性足够大,则将(i,j)这条边加入邻接图G中\\
  把图中节点个数记作:lenNodes(G)=\beta\mu P\\
  消除G中的无向环,保留环中权重最大的n_{i,j},得到图中所有的边\\
  邻接的节点(mask)就是要杂交的个体.
  $$

* **杂交:**   消除G中的无向环,保留环中权重最大的$n_{i,j}$,G中所有的边邻接的节点(mask)就是要杂交的个体对.

  1. **按位与:**对图中所有
  2. **对1扩展**:{上下,左右,上下左右,一圈}
  3. **选择**,每个个体扩展后评分最高的个体。
  4. 得到$\beta\mu P-1-m$ 个个体,其中 $m=$G 的无向环的个数。
  5. **补齐**:对$(1-\beta)\mu P$未参加杂交的个体进行步骤2，3。将得到的个体进行排序，选择前（1+m）个个体补齐。

* **变异：**

  

#### 3. callback

` 判断差分进化算法是否结束，返回True or Fales`



